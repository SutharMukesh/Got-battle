(this["webpackJsonpgot-battle-react"]=this["webpackJsonpgot-battle-react"]||[]).push([[0],{33:function(e,t,a){e.exports=a(72)},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),i=a(11),s=a(12),l=a(15),u=a(13),d=a(16),p=a(2),m=a.n(p),g=a(6),b=a(8),f=a(14),h=a.n(f);var v=a(17),E=a.n(v),O=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getSuggestions=function(e,t){var n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=new RegExp(n,"i");a.props.setSuggestions(a.props[t].backenddata.filter((function(e){return r.test(e)})),t)},a.onChange=function(e,t){var n=t.newValue;t.method;a.props.onChange(n,e.target.id)},a.onSubmitBattleData=function(e){e.preventDefault();var t={location:e.target.locationid.value,region:e.target.regionid.value,year:e.target.yearid.value,name:e.target.battlenameid.value},n=Object.keys(t).map((function(e){if(t[e])return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).filter((function(e){return e})).join("&");a.props.setBattlesData(n)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.setBackendData("locationid"),this.props.setBackendData("battlenameid"),this.props.setBackendData("regionid");case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"card shadow-sm d-flex flex-column needs-validation",onSubmit:this.onSubmitBattleData},r.a.createElement("div",{className:"mt-3 d-flex row no-gutters mx-md-5 mx-2 flex-wrap justify-content-center"},r.a.createElement("div",{className:"form-group col-md mx-2 "},r.a.createElement(E.a,{suggestions:this.props.locationid.suggestion,onSuggestionsFetchRequested:function(t){t.event;var a=t.value;e.getSuggestions(a,"locationid")},onSuggestionsClearRequested:function(){e.props.setSuggestions([],"locationid")},getSuggestionValue:function(e){return e},renderSuggestion:function(e){return r.a.createElement("div",{id:"locationid",className:"p-2"},e)},inputProps:{placeholder:"Location",id:"locationid",value:this.props.locationid.value,className:"form-control",onChange:this.onChange}})),r.a.createElement("div",{className:"form-group col-md mx-2 "},r.a.createElement(E.a,{suggestions:this.props.battlenameid.suggestion,onSuggestionsFetchRequested:function(t){t.event;var a=t.value;e.getSuggestions(a,"battlenameid")},onSuggestionsClearRequested:function(){e.props.setSuggestions([],"battlenameid")},getSuggestionValue:function(e){return e},renderSuggestion:function(e){return r.a.createElement("div",{id:"battlenameid",className:"p-2"},e)},inputProps:{placeholder:"Battle Name",id:"battlenameid",value:this.props.battlenameid.value,className:"form-control",onChange:this.onChange}})),r.a.createElement("div",{className:"form-group col-md mx-2 "},r.a.createElement("input",{type:"number",className:"form-control",id:"yearid",placeholder:"Year"})),r.a.createElement("div",{className:"form-group col-md mx-2 "},r.a.createElement(E.a,{suggestions:this.props.regionid.suggestion,onSuggestionsFetchRequested:function(t){t.event;var a=t.value;e.getSuggestions(a,"regionid")},onSuggestionsClearRequested:function(){e.props.setSuggestions([],"regionid")},getSuggestionValue:function(e){return e},renderSuggestion:function(e){return r.a.createElement("div",{id:"regionid",className:"p-2"},e)},inputProps:{placeholder:"Region",id:"regionid",value:this.props.regionid.value,className:"form-control",onChange:this.onChange}}))),r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("button",{className:" btn btn-primary btn-sm w-25 mb-3"},"Search")))}}]),t}(n.Component),y=Object(b.b)((function(e){return{locationid:e.searchbar.locationid,battlenameid:e.searchbar.battlenameid,regionid:e.searchbar.regionid}}),{setBackendData:function(e){return function(){var t=Object(g.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={locationid:"/location",battlenameid:"/name",regionid:"/region"},t.next=4,h.a.get("".concat("https://got-battle-app-api.herokuapp.com","/list").concat(n[e]));case 4:r=t.sent,a({type:"SET_BACKENDDATA",id:e,payload:r.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),alert(t.t0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},onChange:function(e,t){return function(){var a=Object(g.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"ON_CHANGE",id:t,payload:e});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},setSuggestions:function(e,t){return function(){var a=Object(g.a)(m.a.mark((function a(n){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n({type:"SET_SUGGESTIONS",id:t,payload:e});case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},setBattlesData:function(e){return function(){var t=Object(g.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,h.a.get("".concat("https://got-battle-app-api.herokuapp.com","/search/?").concat(e));case 4:n=t.sent,a({type:"SET_BATTLES",payload:n.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),alert(t.t0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})(O);function S(e){return r.a.createElement("div",{className:"card mt-3 shadow-sm table-responsive"},r.a.createElement("table",{className:"table table-sm table-striped table-hover"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,Object.keys(e.battles[0]).map((function(e){return r.a.createElement("th",{scope:"col",className:"table-head"},e)})))),r.a.createElement("tbody",null,e.battles.map((function(e){return r.a.createElement("tr",null,Object.keys(e).map((function(t){return r.a.createElement("td",{style:{width:"1px","white-space":"nowrap"}},e[t])})))})))))}var j=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container d-flex flex-column"},r.a.createElement("div",{className:"headtitle align-self-center my-3"},r.a.createElement("h4",null,"BATTLES OF GOT")),r.a.createElement(y,null),this.props.battles.length>0?r.a.createElement(S,{battles:this.props.battles}):r.a.createElement(r.a.Fragment,null))}}]),t}(n.Component),N=Object(b.b)((function(e){return{battles:e.battlecards.battles}}))(j),k=a(7),w=a(32),x=a(9),C=a(4),T={locationid:{backenddata:[],value:"",suggestion:[]},battlenameid:{backenddata:[],value:"",suggestion:[]},regionid:{backenddata:[],value:"",suggestion:[]}},B={battles:[]},D=Object(k.c)({searchbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_CHANGE":return e[t.id].value=t.payload,Object(C.a)({},e,Object(x.a)({},t.id,Object(C.a)({},e[t.id])));case"SET_BACKENDDATA":return e[t.id].backenddata=t.payload,Object(C.a)({},e,Object(x.a)({},t.id,Object(C.a)({},e[t.id])));case"SET_SUGGESTIONS":return e[t.id].suggestion=t.payload,Object(C.a)({},e,Object(x.a)({},t.id,Object(C.a)({},e[t.id])));default:return Object(C.a)({},e)}},battlecards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BATTLES":return e.battles=t.payload,Object(C.a)({},e);default:return Object(C.a)({},e)}}}),A=[w.a],R=Object(k.e)(D,{},Object(k.d)(k.a.apply(void 0,A)));var _=function(){return r.a.createElement(b.a,{store:R},r.a.createElement("div",{className:"container"},r.a.createElement(N,null)))};a(71);c.a.render(r.a.createElement(_,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.20349c2c.chunk.js.map